<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Settings - AEL DWSS System</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- 侧边栏 -->
    
    <!-- 主内容区域 -->
    <div class="main-content">
        <div class="header">
            <h1 data-i18n="system.settings">System Settings</h1>
            <div class="header-controls">
                <div class="user-date-row">
                    <div class="date-display">
                        <i class="fas fa-calendar-alt"></i>
                        <span id="current-date">September 17, 2025</span>
                    </div>
                    <button class="user-btn">
                        <i class="fas fa-user"></i> John Doe
                    </button>
                </div>
            </div>
        </div>
        
        <div class="search-buttons">
            <form id="search-form" action="#" method="get">
                <input type="text" name="search" data-i18n-placeholder="search.placeholder" placeholder="Search settings..." />
                <button type="submit" data-i18n="search">Search</button>
            </form>
        </div>
        
        <div class="dashboard">
            <h2>System Configuration</h2>
            <p data-i18n="configure.preferences">Configure system preferences, appearance, and integration settings. Changes will be applied system-wide.</p>
            
            <!-- 设置卡片布局 -->
            <div class="feature-cards">
                <!-- 显示设置卡片 -->
                <div class="feature-card display-settings">
                    <div class="card-header">
                        <div class="card-title">
                            <div class="card-icon">
                                <i class="fas fa-desktop"></i>
                            </div>
                            <span data-i18n="display.settings">Display Settings</span>
                        </div>
                        <div class="card-badge" data-i18n="active">
                            <i class="fas fa-check-circle"></i> Active
                        </div>
                    </div>
                    
                    <div class="settings-form">
                        <div class="form-group">
                            <label for="theme" data-i18n="theme">Theme</label>
                            <select id="theme" class="form-control">
                                <option value="light" data-i18n="light.theme">Light Theme</option>
                                <option value="dark" data-i18n="dark.theme">Dark Theme</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="language" data-i18n="language">Language</label>
                            <select id="language" class="form-control">
                                <option value="en" data-i18n="english">English</option>
                                <option value="zh" data-i18n="chinese">中文</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="date-format" data-i18n="date.format">Date Format</label>
                            <select id="date-format" class="form-control">
                                <option value="dd-mm-yyyy">DD-MM-YYYY</option>
                                <option value="mm-dd-yyyy">MM-DD-YYYY</option>
                                <option value="yyyy-mm-dd">YYYY-MM-DD</option>
                            </select>
                        </div>            
                        <div class="form-group">
                            <label for="results-per-page" data-i18n="results.per.page">Results Per Page</label>
                            <select id="results-per-page" class="form-control">
                                <option value="10">10</option>
                                <option value="25">25</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                        </div>
                        
                        <div class="settings-actions">
                            <button class="btn btn-primary" id="save-display-settings" data-i18n="save.display.settings">
                                <i class="fas fa-save"></i> Save Display Settings
                            </button>
                            <button class="btn btn-secondary" id="reset-display-settings" data-i18n="reset.to.default">
                                <i class="fas fa-undo"></i> Reset to Default
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- 初始PDF上传卡片 -->
                <div class="feature-card pdf-upload">
                    <div class="card-header">
                        <div class="card-title">
                            <div class="card-icon">
                                <i class="fas fa-file-pdf"></i>
                            </div>
                            <span data-i18n="initial.pdf.upload">Initial PDF Upload</span>
                        </div>
                        <div class="card-badge">
                            <!--i class="fas fa-exclamation-circle"></i> Required-->
                            <span class="card-badge" data-i18n="required">Required</span>
                        </div>
                    </div>
                    
                    <div class="settings-form">
                        <div class="form-group">
                            <label data-i18n="current.pdf.files">Current PDF Files</label>
                            <div class="file-list">
                                <div class="file-item">
                                    <i class="fas fa-file-pdf"></i>
                                    <span>Site_Diary_Template.pdf</span>
                                    <span class="file-size">(2.4 MB)</span>
                                    <button class="btn-icon"><i class="fas fa-download"></i></button>
                                    <button class="btn-icon delete"><i class="fas fa-trash"></i></button>
                                </div>
                                <div class="file-item">
                                    <i class="fas fa-file-pdf"></i>
                                    <span>Safety_Checklist.pdf</span>
                                    <span class="file-size">(1.8 MB)</span>
                                    <button class="btn-icon"><i class="fas fa-download"></i></button>
                                    <button class="btn-icon delete"><i class="fas fa-trash"></i></button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="pdf-upload" data-i18n="upload.new.pdf">Upload New PDF</label>
                            <div class="upload-area" id="pdf-upload">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <p data-i18n="drag.drop.pdf">Drag & drop PDF files here or click to browse</p>
                                <input type="file" accept=".pdf" multiple style="display: none;">
                                <button class="btn btn-outline" data-i18n="select.files">Select Files</button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="auto-process" data-i18n="auto.process.settings">Auto-process Settings</label>
                            <div class="checkbox-group">
                                <input type="checkbox" id="auto-process" checked>
                                <label for="auto-process" data-i18n="auto.process.pdfs">Automatically process uploaded PDFs</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="overwrite-existing">
                                <label for="overwrite-existing" data-i18n="overwrite.existing">Overwrite existing files with same name</label>
                            </div>
                        </div>
                        
                        <div class="settings-actions">
                            <button class="btn btn-primary" data-i18n="upload.process">
                                <i class="fas fa-upload"></i> Upload & Process
                            </button>
                            <button class="btn btn-secondary" data-i18n="refresh.list">
                                <i class="fas fa-sync"></i> Refresh List
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- 电邮设置卡片 -->
                <div class="feature-card email-settings">
                    <div class="card-header">
                        <div class="card-title">
                            <div class="card-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <span data-i18n="email.settings">Email Settings</span>
                        </div>
                        <div class="card-badge">
                            <i class="fas fa-check-circle"></i>
                            <span class="card-badge" data-i18n="configured">Configured</span>
                        </div>
                    </div>
                    
                    <div class="settings-form">
                        <div class="form-group">
                            <label for="smtp-server" data-i18n="smtp.server">SMTP Server</label>
                            <input type="text" id="smtp-server" class="form-control" value="smtp.office365.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="smtp-port" data-i18n="smtp.port">SMTP Port</label>
                            <input type="number" id="smtp-port" class="form-control" value="587">
                        </div>
                        
                        <div class="form-group">
                            <label for="email-username" data-i18n="email.username">Email Username</label>
                            <input type="text" id="email-username" class="form-control" value="noreply@aeldwss.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="email-password" data-i18n="email.password">Email Password</label>
                            <div class="password-input">
                                <input type="password" id="email-password" class="form-control" value="password123">
                                <button type="button" class="password-toggle-btn">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="from-address" data-i18n="from.address">From Address</label>
                            <input type="email" id="from-address" class="form-control" value="noreply@aeldwss.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="from-name" data-i18n="from.name">From Name</label>
                            <input type="text" id="from-name" class="form-control" value="AEL DWSS System">
                        </div>
                        
                        <div class="form-group">
                            <label data-i18n="email.notifications">Email Notifications</label>
                            <div class="checkbox-group">
                                <input type="checkbox" id="notify-diary" checked>
                                <label for="notify-diary" data-i18n="notify.diary">Site diary submissions</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="notify-safety" checked>
                                <label for="notify-safety" data-i18n="notify.safety">Safety inspection alerts</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="notify-system">
                                <label for="notify-system" data-i18n="notify.system">System updates</label>
                            </div>
                        </div>
                        
                        <div class="settings-actions">
                            <button class="btn btn-primary" data-i18n="save.email.settings">
                                <i class="fas fa-save"></i> Save Email Settings
                            </button>
                            <button class="btn btn-outline" data-i18n="test.configuration">
                                <i class="fas fa-paper-plane"></i> Test Configuration
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- 下载路径设置卡片 -->
                <div class="feature-card download-settings">
                    <div class="card-header">
                        <div class="card-title">
                            <div class="card-icon">
                                <i class="fas fa-download"></i>
                            </div>
                            <span data-i18n="download.path.settings">Download Path Settings</span>
                        </div>
                        <div class="card-badge" data-i18n="needs.review">
                            <i class="fas fa-exclamation-triangle"></i> Needs Review
                        </div>
                    </div>
                    
                    <div class="settings-form">
                        <div class="form-group">
                            <label for="default-download-path" data-i18n="default.download.path">Default Download Path</label>
                            <div class="path-input">
                                <input type="text" id="default-download-path" class="form-control" value="C:\Users\JohnDoe\Downloads\AEL_DWSS">
                                <button class="btn btn-outline browse-btn" data-i18n="browse">Browse</button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                             <label for="folder-structure" data-i18n="folder.structure">Folder Structure</label>
                            <select id="folder-structure" class="form-control">
                                <option value="flat" data-i18n="folder.structure.flat">Flat Structure (all files in one folder)</option>
                                <option value="by-date" data-i18n="folder.structure.by.date">Organize by Date (YYYY/MM/DD)</option>
                                <option value="by-type" selected data-i18n="folder.structure.by.type">Organize by Document Type</option>
                                <option value="by-site" data-i18n="folder.structure.by.site">Organize by Site</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label data-i18n="file.naming.convention">File Naming Convention</label>
                            <div class="radio-group">
                                <input type="radio" id="naming-original" name="naming" checked>
                                <label for="naming-original" data-i18n="naming.original">Keep original filename</label>
                            </div>
                            <div class="radio-group">
                                <input type="radio" id="naming-timestamp" name="naming">
                                <label for="naming-timestamp" data-i18n="naming.timestamp">Timestamp prefix (YYYYMMDD_HHMMSS_)</label>
                            </div>
                            <div class="radio-group">
                                <input type="radio" id="naming-site" name="naming">
                                <label for="naming-site" data-i18n="naming.site">Site code prefix</label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label data-i18n="automatic.downloads">Automatic Downloads</label>
                            <div class="checkbox-group">
                                <input type="checkbox" id="auto-download-reports" checked>
                                <label for="auto-download-reports" data-i18n="auto.download.reports">Auto-download generated reports</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="auto-download-backups">
                                <label for="auto-download-backups" data-i18n="auto.download.backups">Auto-download system backups</label>
                            </div>
                        </div>
                        
                        <div class="settings-actions">
                            <button class="btn btn-primary" data-i18n="save.path.settings">
                                <i class="fas fa-save"></i> Save Path Settings
                            </button>
                            <button class="btn btn-outline" data-i18n="open.download.folder">
                                <i class="fas fa-folder-open"></i> Open Download Folder
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>&copy; 2025 AEL DWSS System. All rights reserved.</p>
            <p>AEL DWSS Platform</p>
        </footer>
    </div>

    <script src="scripts/theme-config.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/sidebar.js"></script>
    <script src="scripts/language.js"></script>

    
    
    <script>

        // 紧急修复：手动初始化侧边栏
setTimeout(function() {
    console.log('Attempting to initialize sidebar manually...');
    
    // 检查侧边栏是否存在
    const sidebar = document.querySelector('.sidebar');
    const toggleBtn = document.querySelector('.toggle-btn');
    
    if (!sidebar) {
        console.log('No sidebar found, trying to load via sidebar.js...');
        
        // 如果 loadSidebar 函数存在，调用它
        if (typeof loadSidebar === 'function') {
            loadSidebar();
        } else {
            console.error('loadSidebar function not available!');
            console.log('Script loading order might be wrong.');
            
            // 重新加载 sidebar.js
            const script = document.createElement('script');
            script.src = 'scripts/sidebar.js';
            script.onload = function() {
                console.log('sidebar.js reloaded, calling loadSidebar...');
                if (typeof loadSidebar === 'function') {
                    loadSidebar();
                }
            };
            document.head.appendChild(script);
        }
    } else {
        console.log('Sidebar found, checking toggle button...');
        if (toggleBtn) {
            console.log('Toggle button found, adding manual click handler...');
            
            // 手动添加点击事件
            toggleBtn.addEventListener('click', function() {
                console.log('Manual toggle clicked!');
                const sidebar = document.querySelector('.sidebar');
                if (sidebar) {
                    sidebar.classList.toggle('collapsed');
                    console.log('Sidebar collapsed:', sidebar.classList.contains('collapsed'));
                }
            });
        }
    }
}, 500);



        // 设置页面特定功能 - 修复版本
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Settings page initialized');

             if (typeof LanguageConfig !== 'undefined') {
                LanguageConfig.init();
            }
            
            // 初始化主题配置
            if (typeof ThemeConfig !== 'undefined') {
                const config = ThemeConfig.init();
                console.log('ThemeConfig loaded:', config);
                
                // 设置表单的初始值
                document.getElementById('theme').value = config.theme;
                document.getElementById('language').value = config.language;
                document.getElementById('date-format').value = config.dateFormat;
                
                // 更新日期显示
                updateDateDisplay();
            }
            
            // 侧边栏切换功能
            const toggleBtn = document.querySelector('.toggle-btn');
            const sidebar = document.querySelector('.sidebar');
            
            if (toggleBtn && sidebar) {
                toggleBtn.addEventListener('click', function() {
                    sidebar.classList.toggle('collapsed');
                });
            }
            
            // 初始化密码显示/隐藏功能
            initPasswordToggle();
            
            // 文件上传区域点击事件
            initFileUpload();
            
            // 设置保存功能
            initSettingsSave();
        });
        
        // 更新日期显示
        function updateDateDisplay() {
            if (typeof ThemeConfig === 'undefined') return;
            
            const now = new Date();
            let formattedDate;
            
            switch(ThemeConfig.current.dateFormat) {
                case 'dd-mm-yyyy':
                    formattedDate = now.getDate().toString().padStart(2, '0') + '-' + 
                                  (now.getMonth() + 1).toString().padStart(2, '0') + '-' + 
                                  now.getFullYear();
                    break;
                case 'mm-dd-yyyy':
                    formattedDate = (now.getMonth() + 1).toString().padStart(2, '0') + '-' + 
                                  now.getDate().toString().padStart(2, '0') + '-' + 
                                  now.getFullYear();
                    break;
                case 'yyyy-mm-dd':
                    formattedDate = now.getFullYear() + '-' + 
                                  (now.getMonth() + 1).toString().padStart(2, '0') + '-' + 
                                  now.getDate().toString().padStart(2, '0');
                    break;
                default:
                    formattedDate = now.toLocaleDateString('en-US', { 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric' 
                    });
            }
            
            const dateElement = document.getElementById('current-date');
            if (dateElement) {
                dateElement.textContent = formattedDate;
            }
        }
        
        // 密码显示/隐藏功能 - 修复版本
        function initPasswordToggle() {
            console.log('Initializing password toggle...');
            
            // 查找所有密码切换按钮
            const passwordToggleBtns = document.querySelectorAll('.password-toggle-btn, .toggle-password');
            console.log('Found password toggle buttons:', passwordToggleBtns.length);
            
            passwordToggleBtns.forEach(btn => {
                console.log('Setting up password toggle for button:', btn);
                
                // 确保按钮类型正确
                btn.type = 'button';
                
                // 移除现有的事件监听器（通过克隆替换）
                const newBtn = btn.cloneNode(true);
                btn.parentNode.replaceChild(newBtn, btn);
                
                // 为新按钮添加事件监听器
                newBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    console.log('Password toggle button clicked');
                    
                    // 找到对应的密码输入框
                    const passwordInput = this.parentElement.querySelector('input');
                    
                    if (!passwordInput) {
                        console.error('Password input not found');
                        return;
                    }
                    
                    console.log('Password input found:', passwordInput);
                    console.log('Current input type:', passwordInput.type);
                    
                    // 切换密码显示/隐藏
                    if (passwordInput.type === 'password') {
                        passwordInput.type = 'text';
                        this.innerHTML = '<i class="fas fa-eye-slash"></i>';
                        console.log('Password shown');
                    } else {
                        passwordInput.type = 'password';
                        this.innerHTML = '<i class="fas fa-eye"></i>';
                        console.log('Password hidden');
                    }
                });
            });
            
            // 调试信息
            if (passwordToggleBtns.length === 0) {
                console.warn('No password toggle buttons found. Checking HTML structure...');
                console.log('Password input element:', document.getElementById('email-password'));
                console.log('Password input container:', document.querySelector('.password-input'));
            }
        }
        
        // 文件上传功能
        function initFileUpload() {
            const uploadAreas = document.querySelectorAll('.upload-area');
            uploadAreas.forEach(area => {
                const fileInput = area.querySelector('input[type="file"]');
                const selectBtn = area.querySelector('.btn');
                
                area.addEventListener('click', function(e) {
                    if (e.target !== selectBtn) {
                        fileInput.click();
                    }
                });
                
                selectBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    fileInput.click();
                });
                
                fileInput.addEventListener('change', function() {
                    if (this.files.length > 0) {
                        area.classList.add('has-file');
                        const pElement = area.querySelector('p');
                        if (pElement) {
                            pElement.textContent = `${this.files.length} file(s) selected`;
                        }
                    }
                });
            });
        }
        
        // 设置保存功能
        function initSettingsSave() {
            // 主题切换
            const themeSelect = document.getElementById('theme');
            if (themeSelect) {
                themeSelect.addEventListener('change', function() {
                    if (typeof ThemeConfig !== 'undefined') {
                        ThemeConfig.save({ theme: this.value });
                        updateDateDisplay();
                    }
                });
            }
            
            // 语言切换
            const languageSelect = document.getElementById('language');
            if (languageSelect) {
                languageSelect.addEventListener('change', function() {
                    if (typeof ThemeConfig !== 'undefined') {
                        ThemeConfig.save({ language: this.value });
            
                        // Apply the new language immediately
                        if (typeof LanguageConfig !== 'undefined') {
                            LanguageConfig.setLanguage(this.value);
                        }
            
                        updateDateDisplay();
                    }
                });
            }
            
            // 日期格式切换
            const dateFormatSelect = document.getElementById('date-format');
            if (dateFormatSelect) {
                dateFormatSelect.addEventListener('change', function() {
                    if (typeof ThemeConfig !== 'undefined') {
                        ThemeConfig.save({ dateFormat: this.value });
                        updateDateDisplay();
                    }
                });
            }
            
            // 保存设置按钮
            const saveBtn = document.getElementById('save-display-settings');
            if (saveBtn) {
                saveBtn.addEventListener('click', function() {
                    if (typeof ThemeConfig === 'undefined') {
                        alert('ThemeConfig is not available');
                        return;
                    }
                    
                    const settings = {
                        theme: document.getElementById('theme').value,
                        language: document.getElementById('language').value,
                        dateFormat: document.getElementById('date-format').value
                    };
                    
                    ThemeConfig.save(settings);
                    
                    // 显示对应语言的提示
                    const message = settings.language === 'zh' ? '设置已保存！' : 'Settings saved!';
                    alert(message);
                    
                    // 更新日期显示
                    updateDateDisplay();
                });
            }
            
            // 重置设置按钮
            const resetBtn = document.getElementById('reset-display-settings');
            if (resetBtn) {
                resetBtn.addEventListener('click', function() {
                    if (typeof ThemeConfig === 'undefined') {
                        alert('ThemeConfig is not available');
                        return;
                    }
                    
                    const currentLang = ThemeConfig.current.language || 'en';
                    const message = currentLang === 'zh' ? 
                        '确定要重置为默认设置吗？' : 'Are you sure you want to reset to default settings?';
                    const successMessage = currentLang === 'zh' ? 
                        '设置已重置！' : 'Settings reset!';
                    
                    if (confirm(message)) {
                        localStorage.removeItem('ael_dwss_theme');
                        localStorage.removeItem('ael_dwss_language');
                        localStorage.removeItem('ael_dwss_dateFormat');
                        
                        ThemeConfig.init();
                        
                        // 更新表单值
                        document.getElementById('theme').value = ThemeConfig.current.theme;
                        document.getElementById('language').value = ThemeConfig.current.language;
                        document.getElementById('date-format').value = ThemeConfig.current.dateFormat;
                        
                        // 更新日期显示
                        updateDateDisplay();
                        
                        alert(successMessage);
                    }
                });
            }
        }
        
        // 确保页面加载后也调用密码初始化
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initPasswordToggle);
        } else {
            setTimeout(initPasswordToggle, 100);
        }
    </script>
    
    <style>
        /* 设置页面特定样式 */
        .settings-form {
            padding: 0 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
            position: relative;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .form-control {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            transition: border 0.3s ease;
        }
        
        .form-control:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .password-input {
            position: relative;
            display: flex;
        }
        
        .password-input .form-control {
            flex: 1;
            padding-right: 45px; /* 为眼睛图标留出空间 */
        }
        
        .password-toggle-btn {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            color: #7f8c8d;
            z-index: 2;
            padding: 8px;
            border-radius: 4px;
            transition: all 0.2s ease;
            height: 38px;
            width: 38px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .password-toggle-btn:hover {
            background: #f0f0f0;
            color: #3498db;
        }
        
        .path-input {
            display: flex;
            gap: 10px;
        }
        
        .path-input .form-control {
            flex: 1;
        }
        
        .btn-icon {
            background: transparent;
            border: none;
            color: #7f8c8d;
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }
        
        .btn-icon:hover {
            background: #f0f0f0;
            color: #3498db;
        }
        
        .btn-icon.delete:hover {
            color: #e74c3c;
        }
        
        .checkbox-group, .radio-group {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .checkbox-group input, .radio-group input {
            margin-right: 10px;
        }
        
        .checkbox-group label, .radio-group label {
            margin-bottom: 0;
            font-weight: normal;
        }
        
        .file-list {
            border: 1px solid #e0e6ed;
            border-radius: 6px;
            overflow: hidden;
        }
        
        .file-item {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .file-item:last-child {
            border-bottom: none;
        }
        
        .file-item i {
            color: #e74c3c;
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        .file-item span {
            flex: 1;
        }
        
        .file-size {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-left: 10px;
        }
        
        .upload-area {
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upload-area:hover {
            border-color: #3498db;
            background: #f8fafc;
        }
        
        .upload-area.has-file {
            border-color: #2ecc71;
            background: #f0f9f4;
        }
        
        .upload-area i {
            font-size: 2.5rem;
            color: #7f8c8d;
            margin-bottom: 15px;
        }
        
        .upload-area p {
            margin-bottom: 15px;
            color: #7f8c8d;
        }
        
        .settings-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px solid #eaeaea;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #2980b9, #2471a3);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
        }
        
        .btn-secondary {
            background: #95a5a6;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #7f8c8d;
            transform: translateY(-2px);
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid #3498db;
            color: #3498db;
        }
        
        .btn-outline:hover {
            background: #3498db;
            color: white;
        }
        
        .browse-btn {
            white-space: nowrap;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .password-input {
                flex-direction: column;
            }
            
            .password-input .form-control {
                padding-right: 12px;
            }
            
            .password-toggle-btn {
                position: relative;
                right: auto;
                top: auto;
                transform: none;
                align-self: flex-end;
                margin-top: 8px;
                width: auto;
                height: auto;
            }
            
            .path-input {
                flex-direction: column;
            }
            
            .settings-actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
        
        /* 暗色主题支持 */
        body.dark-theme .form-group label {
            color: #e0e0e0;
        }
        
        body.dark-theme .form-control {
            background-color: #2a2a2a;
            color: #ffffff;
            border-color: #555;
        }
        
        body.dark-theme .form-control:focus {
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        body.dark-theme .password-toggle-btn {
            color: #bbbbbb;
        }
        
        body.dark-theme .password-toggle-btn:hover {
            background-color: #3a3a3a;
            color: #3498db;
        }
        
        body.dark-theme .file-list {
            border-color: #555;
            background-color: #2a2a2a;
        }
        
        body.dark-theme .file-item {
            border-bottom-color: #444;
        }
        
        body.dark-theme .upload-area {
            border-color: #555;
            background-color: #3a3a3a;
        }
        
        body.dark-theme .upload-area:hover {
            border-color: #3498db;
            background-color: #4a4a4a;
        }
        
        body.dark-theme .upload-area.has-file {
            border-color: #2ecc71;
            background-color: #3a5a3a;
        }
        
        body.dark-theme .upload-area p {
            color: #bbbbbb;
        }
    </style>

    
</body>
</html>